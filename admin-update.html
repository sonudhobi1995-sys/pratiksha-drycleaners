<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin App | PRATIKSHA</title>
    
    <link rel="manifest" href="manifest-admin.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#001F3F">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --sun: #FF8C00; --dark: #001F3F; --green: #2E8B57; --bg: #f0f2f5; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); margin: 0; padding-bottom: 20px; }
        
        /* ‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§Æ ‡§π‡•á‡§°‡§∞ */
        .app-header { 
            background: linear-gradient(135deg, var(--dark) 0%, #003366 100%); 
            color: white; padding: 25px 15px; text-align: center; 
            border-radius: 0 0 30px 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); 
        }
        .app-logo {
            width: 80px; height: 80px; border-radius: 50%;
            background: white; padding: 5px; margin-bottom: 10px;
            border: 3px solid var(--sun); box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            object-fit: contain;
        }

        .container { padding: 20px; max-width: 500px; margin: auto; }
        .card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin-bottom: 20px; border: 1px solid #e0e0e0; }
        
        h3 { color: var(--dark); margin-top: 0; display: flex; align-items: center; gap: 10px; font-size: 1.2rem; }
        label { font-size: 0.85rem; font-weight: 600; color: #555; margin-left: 5px; }

        input, select { width: 100%; padding: 14px; margin: 8px 0 18px 0; border-radius: 12px; border: 1.5px solid #ddd; box-sizing: border-box; font-size: 1rem; transition: 0.3s; }
        input:focus { border-color: var(--sun); outline: none; box-shadow: 0 0 8px rgba(255,140,0,0.2); }
        
        .btn { width: 100%; padding: 16px; border: none; border-radius: 12px; font-weight: 700; font-size: 1rem; cursor: pointer; transition: 0.3s; display: flex; justify-content: center; align-items: center; gap: 10px; }
        .btn-status { background: var(--dark); color: white; }
        .btn-pickup { background: var(--green); color: white; }
        .btn:active { transform: scale(0.98); }

        .badge { background: var(--sun); color: white; padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; text-transform: uppercase; }
    </style>
</head>
<body>

    <div class="app-header">
        <img src="logo.png" alt="PRATIKSHA" class="app-logo">
        <h2 style="margin:0; letter-spacing: 1px;">‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤</h2>
        <span class="badge">‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Æ‡•à‡§®‡•á‡§ú‡§∞</span>
    </div>

    <div class="container">
        <div class="card">
            <h3>üì± ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§®</h3>
            <label>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç:</label>
            <input type="tel" id="adminMobile" placeholder="98XXXXXXXX">
        </div>

        <div class="card">
            <h3>‚ö° ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§Ö‡§™‡§°‡•á‡§ü (‡§ï‡•ç‡§µ‡§ø‡§ï ‡§è‡§ï‡•ç‡§∂‡§®)</h3>
            <label>‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ö‡•Å‡§®‡•á‡§Ç:</label>
            <select id="adminStatus">
                <option value="‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç">‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç (In Process)</option>
                <option value="‡§ß‡•Å‡§≤‡§æ‡§à">‡§ß‡•Å‡§≤‡§æ‡§à (Washing)</option>
                <option value="‡§Ü‡§Ø‡§∞‡§®‡§ø‡§Ç‡§ó">‡§Ü‡§Ø‡§∞‡§®‡§ø‡§Ç‡§ó (Ironing)</option>
                <option value="‡§∞‡•á‡§°‡•Ä ‡§ü‡•Ç ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä">‡§∞‡•á‡§°‡•Ä ‡§ü‡•Ç ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä (Ready)</option>
            </select>
            <button class="btn btn-status" onclick="updateStatusOnly()">
                <span>üîÑ</span> ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§¨‡§¶‡§≤‡•á‡§Ç
            </button>
        </div>

        <div class="card" style="border-left: 5px solid var(--green);">
            <h3>üì¶ ‡§®‡§Ø‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç</h3>
            <p style="font-size: 0.8rem; color: #666;">‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§∞ ‡§ê‡§™ ‡§µ‡§æ‡§≤‡§æ '‡§™‡§ø‡§ï‡§Ö‡§™' ‡§Æ‡•ã‡§° ‡§Ø‡§π‡§æ‡§Å ‡§∏‡•á ‡§ñ‡•ã‡§≤‡•á‡§Ç:</p>
            <button class="btn btn-pickup" onclick="window.location.href='driver-app.html'">
                <span>‚ûï</span> ‡§á‡§®‡•ç‡§µ‡•á‡§Ç‡§ü‡§∞‡•Ä ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§≠‡§∞‡•á‡§Ç
            </button>
        </div>
    </div>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbzFJrN3AeGObpc3P2ylgmB1HpmubDQHS08bNN2CwnkzKqjNwJlJcelE431nkLrrb15lKQ/exec';

    function updateStatusOnly() {
        const mobile = document.getElementById('adminMobile').value;
        const status = document.getElementById('adminStatus').value;
        
        if(!mobile || mobile.length < 10) {
            alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç");
            return;
        }

        const btn = document.querySelector('.btn-status');
        btn.innerText = "‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...";
        btn.disabled = true;

        fetch(`${scriptURL}?action=updateStatus&mobile=${mobile}&status=${status}`)
        .then(response => {
            alert("‡§∏‡§´‡§≤‡§§‡§æ! ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§Ö‡§¨ '" + status + "' ‡§π‡•à‡•§");
            location.reload();
        })
        .catch(error => {
            alert("‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§è‡§∞‡§∞! ‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç‡•§");
            btn.innerText = "STATUS UPDATE";
            btn.disabled = false;
        });
    }
</script>
</body>
</html>
